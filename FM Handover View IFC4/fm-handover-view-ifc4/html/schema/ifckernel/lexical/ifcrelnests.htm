<!DOCTYPE HTML>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" type="text/css" href="../../../ifc-styles.css">

    <link rel="stylesheet" type="text/css" href="../../../details-shim.css">
    <script type="text/javascript" src="../../../details-shim.js"></script>
    <title>IfcRelNests</title>

    <style type="text/css">
      body { counter-reset: index1 5 index2 1 index3 3 index4 42 index5 0; }
    </style>
  </head>

  <body>

<p>Draft: Update of the IFC 2x3 based FM Handover View to IFC4 Add 2</p>

<script type="text/javascript">
<!--
    parent.index.location.replace("../../toc-5.htm#5.1.3.43");
//-->
</script>

<h4 class="num">IfcRelNests</h4>
<p><b><u>Change log</u></b></p>
<table class="gridtable">
<tr><th>Item</th><th>SPF</th><th>XML</th><th>Change</th><th>Description</th></tr>
<td colspan=5><b><a href="../../../annex/annex-f/ifc2x3-to-ifc4/index.htm">IFC2x3 to IFC4</a></b></td>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../../schema/ifckernel/lexical/ifcrelnests.htm">IfcRelNests</a></td><td></td><td></td><td></td><td></td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OwnerHistory</td><td></td><td></td><td>MODIFIED</td><td>Instantiation changed to <i>OPTIONAL</i>. <br/></td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RelatedObjects</td><td></td><td></td><td>MODIFIED</td><td>Aggregation changed from <i>SET</i> to <i>LIST</i>. <br/></td></tr>
</table>
<p></p>
<section>
<h5 class="num">Semantic definitions at the entity</h5>
<p><b><u>Entity definition</u></b></p>
    <p>
      The nesting relationship <span class="self-ref">IfcRelNests</span> is a special type
      of the general composition/decomposition (or whole/part)
      relationship <a href="../../ifckernel/lexical/ifcreldecomposes.htm">IfcRelDecomposes</a>. The nesting
      relationship can be applied to all non physical subtypes of
      object and object types, namely processes, controls (like
      cost items), and resources. It can also be applied to
      physical subtypes of object and object types, namely elements
      having ports. The nesting implies an order among the nested
      parts.
    </p>
    <blockquote class="example">
      EXAMPLE&nbsp; A nesting of costs items in an
      <a href="../../ifcsharedmgmtelements/lexical/ifccostschedule.htm">IfcCostSchedule</a> is the composition of complex cost
      items from other cost items. The order of the nested cost
      items underneath the parent cost item is determined by the
      order of the list of <i>RelatedObjects</i>.
    </blockquote>
    <blockquote class="example">
      EXAMPLE&nbsp; A nesting of <a href="../../ifcprocessextension/lexical/ifctask.htm">IfcTask</a>'s within a work
      schedule is the composition of a parent work task from more
      specific sub work tasks. The order of the sub tasks
      underneath the parent task is determined by the order of the
      list of <i>RelatedObjects</i>.
    </blockquote>
    <blockquote class="example">
      EXAMPLE&nbsp; A series of <a href="../../ifcsharedbldgserviceelements/lexical/ifcdistributionport.htm">IfcDistributionPort</a>'s can
      be nested within an <a href="../../ifcproductextension/lexical/ifcdistributionelement.htm">IfcDistributionElement</a>. They
      decompose the distribution element and have an implied order.
    </blockquote>
    <p>
      Decompositions imply a dependency, i.e. the definition of the
      whole depends on the definition of the parts and the parts
      depend on the existence of the whole. The behaviour that is
      implied from the dependency has to be established inside the
      applications.
    </p>
    <blockquote class="history">
      HISTORY&nbsp; New entity in IFC2.0
    </blockquote>
    <blockquote class="change-ifc2x4">
      IFC4 CHANGE&nbsp; The attributes <i>RelatingObject</i> and
      <i>RelatedObjects</i> are demoted from the supertype
      <a href="../../ifckernel/lexical/ifcreldecomposes.htm">IfcRelDecomposes</a>, and <i>RelatedObjects</i> is refined
      to be a list. The use of <span class="self-ref">IfcRelNests</span> is repurposed to
      be a nesting of an ordered collections of parts.
    </blockquote><p></p>
<p><b><u>Attribute definitions</u></b></p>
<table class="attributes">
<tr><th>#</th><th>Attribute</th><th>Type</th><th>Cardinality</th><th>Description</th>
<th>B</th></tr>
<tr><td>5</td><td>RelatingObject</td><td><a href="../../ifckernel/lexical/ifcobjectdefinition.htm">IfcObjectDefinition</a></td><td></td><td>
The object definition, either an non-product object type or a non-product object occurrence, that represents the nest. It is the whole within the whole/part relationship.

<blockquote class="change-ifc2x4">IFC4 CHANGE&nbsp; The attribute has been demoted from the supertype <a href="../../ifckernel/lexical/ifcreldecomposes.htm">IfcRelDecomposes</a> and defines the ordered nesting relationship.</blockquote></td><td>X</td></tr>
<tr><td>6</td><td>RelatedObjects</td><td><a href="../../ifckernel/lexical/ifcobjectdefinition.htm">IfcObjectDefinition</a></td><td>L[1:?]</td><td>
The object definitions, either non-product object occurrences or non-product object types, that are being nestes. They are defined as the parts in the ordered whole/part relationship -  i.e. there is an implied order among the parts expressed by the position within the list of <i>RelatedObjects</i>.

<blockquote class="change-ifc2x4">IFC4 CHANGE&nbsp; The attribute has been demoted from the supertype <a href="../../ifckernel/lexical/ifcreldecomposes.htm">IfcRelDecomposes</a> and defines the ordered set of parts within the nest.</blockquote>
</td><td>X</td></tr>
</table>
<p></p>
<p><b><u>Formal Propositions</u></b></p>
<table class="propositions">
<tr><th>Rule</th><th>Description</th></tr>
<tr><td>NoSelfReference</td><td>The instance to with the relation points as provided by <i>RelatingObject</i> shall not be contained in the list of <i>RelatedObjects</i>.</td></tr>
</table>

<p></p>
</section>
</section>
<section>
<h5 class="num">Formal representations</h5>
<p><b><u>XML Specification</u></b></p>
<div class="xsd"><code class="xsd">&nbsp;&lt;xs:element name=&quot;<a href="../../ifckernel/lexical/ifcrelnests.htm">IfcRelNests</a>&quot; type=&quot;ifc:<a href="../../ifckernel/lexical/ifcrelnests.htm">IfcRelNests</a>&quot; substitutionGroup=&quot;ifc:<a href="../../ifckernel/lexical/ifcreldecomposes.htm">IfcRelDecomposes</a>&quot; nillable=&quot;true&quot;/&gt;<br/>
&nbsp;&lt;xs:complexType name=&quot;<a href="../../ifckernel/lexical/ifcrelnests.htm">IfcRelNests</a>&quot;&gt;<br/>
&nbsp;&nbsp;&lt;xs:complexContent&gt;<br/>
&nbsp;&nbsp;&nbsp;&lt;xs:extension base=&quot;ifc:<a href="../../ifckernel/lexical/ifcreldecomposes.htm">IfcRelDecomposes</a>&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element name=&quot;RelatedObjects&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element ref=&quot;ifc:<a href="../../ifckernel/lexical/ifcobjectdefinition.htm">IfcObjectDefinition</a>&quot; maxOccurs=&quot;unbounded&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:itemType&quot; fixed=&quot;ifc:<a href="../../ifckernel/lexical/ifcobjectdefinition.htm">IfcObjectDefinition</a>&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:cType&quot; fixed=&quot;list&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:arraySize&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&lt;/xs:extension&gt;<br/>
&nbsp;&nbsp;&lt;/xs:complexContent&gt;<br/>
&nbsp;&lt;/xs:complexType&gt;<br/>
</code></div><p></p>
<p><b><u>EXPRESS Specification</u></b></p>
<div class="express"><code class="express">
*)<br/>
<span class="keyword">ENTITY</span> IfcRelNests<br/>
&nbsp;<span class="keyword">SUBTYPE OF</span> (<a href="../../ifckernel/lexical/ifcreldecomposes.htm">IfcRelDecomposes</a>)<b>;</b><br/>
&nbsp;&nbsp;RelatingObject : <a href="../../ifckernel/lexical/ifcobjectdefinition.htm">IfcObjectDefinition</a>;<br/>
&nbsp;&nbsp;RelatedObjects : <span class="keyword">LIST</span> [1:?] <span class="keyword">OF</span> <a href="../../ifckernel/lexical/ifcobjectdefinition.htm">IfcObjectDefinition</a>;<br/>
&nbsp;<span class="keyword">WHERE</span><br/>
&nbsp;&nbsp;NoSelfReference : SIZEOF(QUERY(Temp &lt;* RelatedObjects | RelatingObject :=: Temp)) = 0;<br/><span class="keyword">END_ENTITY;</span><br/>
(*<br/>
<p class="std"><a href="../../../annex/annex-d/ifckernel/diagram_0006.htm" ><img src="../../../img/diagram.png" style="border: 0px" title="Link to EXPRESS-G diagram" alt="Link to EXPRESS-G diagram">&nbsp;EXPRESS-G diagram</a></p>
</code></div>
<p></p>
</section>
<p><a href="http://jira.buildingsmart.org/issues/?jql=project%20%3D%20IFR%20AND%20text%20~%20%22ifcrelnests%22" target="_blank" ><img src="../../../img/external.png" style="border: 0px" title="Report issue" alt="Report issue"/>&nbsp; Report an issue</a></p>
<p><a href="../../../link/ifcrelnests.htm" target="_top" ><img src="../../../img/permlink.png" style="border: 0px" title="Link to this page" alt="Link to this page"/>&nbsp; Link to this page</a></p>
<p>By Reinhard Wimmer</p>
  </body>
</html>
