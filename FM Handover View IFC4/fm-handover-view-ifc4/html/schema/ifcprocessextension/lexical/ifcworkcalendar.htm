<!DOCTYPE HTML>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" type="text/css" href="../../../ifc-styles.css">

    <link rel="stylesheet" type="text/css" href="../../../details-shim.css">
    <script type="text/javascript" src="../../../details-shim.js"></script>
    <title>IfcWorkCalendar</title>

    <style type="text/css">
      body { counter-reset: index1 5 index2 3 index3 3 index4 7 index5 0; }
    </style>
  </head>

  <body>

<p>Draft: Update of the IFC 2x3 based FM Handover View to IFC4 Add 2</p>

<script type="text/javascript">
<!--
    parent.index.location.replace("../../toc-5.htm#5.3.3.8");
//-->
</script>

<h4 class="num">IfcWorkCalendar</h4>
<p><b><u>Change log</u></b></p>
<table class="gridtable">
<tr><th>Item</th><th>SPF</th><th>XML</th><th>Change</th><th>Description</th></tr>
<td colspan=5><b><a href="../../../annex/annex-f/ifc2x3-to-ifc4/index.htm">IFC2x3 to IFC4</a></b></td>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../../schema/ifcprocessextension/lexical/ifcworkcalendar.htm">IfcWorkCalendar</a></td><td></td><td></td><td>ADDED</td><td></td></tr>
</table>
<p></p>
<section>
<h5 class="num">Semantic definitions at the entity</h5>
<p><b><u>Entity definition</u></b></p>
<p>An <span class="self-ref">IfcWorkCalendar</span> defines working and non-working time periods for tasks and resources. It enables to define both specific time periods, such as from 7:00 till 12:00 on 25th August 2009, as well as repetitive time periods based on frequently used recurrence patterns, such as each Monday from 7:00 till 12:00 between 1st March 2009 and 31st December 2009.</p>

<blockquote class="history">
HISTORY&nbsp; New entity in IFC4.
</blockquote>

<p>A work calendar is a subtype of <a href="../../ifckernel/lexical/ifccontrol.htm">IfcControl</a> and thus inherits the feature for controlling other objects through <a href="../../ifckernel/lexical/ifcrelassignstocontrol.htm">IfcRelAssignsToControl</a>, which is used to define a work calendar for tasks (<a href="../../ifcprocessextension/lexical/ifctask.htm">IfcTask</a>) and resources (<a href="../../ifckernel/lexical/ifcresource.htm">IfcResource</a>). It also inherits a name and description attribute, whereas a name shall be given and a description may be given as an indication of its content and usage.</p>

<p>The definition of time periods can be derived from a base calendar and/or modified/defined by a set of working times and non-working exception times. All time periods defined by <i>IfcWorkCalendar.ExceptionTimes</i> override the time periods inherited from the base calendar (base calendar is defined as the next applicable calendar for the task or resource). Thus, exception times replace the working times from the base calendar.</p>

<p>Figure 62 shows the definition of a work calendar, which is defined by a set of work times and exception times. The work times are defined as recurring patterns with optional boundaries (applying from and/or to a specific date). The shown example defines a simple work calendar with working times Monday to Thursday 8:00 to 12:00 and 13:00 to 17:00, Friday 8:00 to 14:00 and as exception every 1st Monday in a month the work starts one hour later - i.e. the working time on every 1st Monday in a month is overriden to be 9:00 to 12:00 and 13:00 to 17:00. Both the working time and the exception time is valid for the period of 01.09.2010 till 30.08.2011.</p>

<table summary="instantiation diagram">
<tr><td><img src="../../../figures/ifcworkcalendar_instantiation_diagram.png"
alt="task type instantiation diagram" border="0"></td></tr>
<tr><td><p class="figure">Figure 62 &mdash; Work calendar instantiation</p></td></tr>
</table>
<p></p>
<p><b><u>Attribute definitions</u></b></p>
<table class="attributes">
<tr><th>#</th><th>Attribute</th><th>Type</th><th>Cardinality</th><th>Description</th>
<th>B</th></tr>
<tr><td>7</td><td>WorkingTimes</td><td><a href="../../ifcdatetimeresource/lexical/ifcworktime.htm">IfcWorkTime</a></td><td>? S[1:?]</td><td>
    Set of times periods that are regarded as an initial set-up
    of working times. Exception times can then further restrict
    these working times.
 </td><td>X</td></tr>
<tr><td>8</td><td>ExceptionTimes</td><td><a href="../../ifcdatetimeresource/lexical/ifcworktime.htm">IfcWorkTime</a></td><td>? S[1:?]</td><td>
    Set of times periods that define exceptions (non-working
    times) for the given working times including the base
    calendar, if provided.</td><td>X</td></tr>
<tr><td>9</td><td>PredefinedType</td><td><a href="../../ifcprocessextension/lexical/ifcworkcalendartypeenum.htm">IfcWorkCalendarTypeEnum</a></td><td>? </td><td>
    Identifies the predefined types of a work calendar from which 
    the type required may be set.
    <blockquote class="change-ifc2x4">IFC4 CHANGE  Attribute added</blockquote></td><td>X</td></tr>
</table>
<p></p>
<p><b><u>Formal Propositions</u></b></p>
<table class="propositions">
<tr><th>Rule</th><th>Description</th></tr>
<tr><td>CorrectPredefinedType</td><td>The attribute ObjectType must be asserted when the value of the IfcWorkCalendarTypeEnum is set to USERDEFINED.</td></tr>
</table>

<p></p>
</section>
</section>
<section>
<h5 class="num">Formal representations</h5>
<p><b><u>XML Specification</u></b></p>
<div class="xsd"><code class="xsd">&nbsp;&lt;xs:element name=&quot;<a href="../../ifcprocessextension/lexical/ifcworkcalendar.htm">IfcWorkCalendar</a>&quot; type=&quot;ifc:<a href="../../ifcprocessextension/lexical/ifcworkcalendar.htm">IfcWorkCalendar</a>&quot; substitutionGroup=&quot;ifc:<a href="../../ifckernel/lexical/ifccontrol.htm">IfcControl</a>&quot; nillable=&quot;true&quot;/&gt;<br/>
&nbsp;&lt;xs:complexType name=&quot;<a href="../../ifcprocessextension/lexical/ifcworkcalendar.htm">IfcWorkCalendar</a>&quot;&gt;<br/>
&nbsp;&nbsp;&lt;xs:complexContent&gt;<br/>
&nbsp;&nbsp;&nbsp;&lt;xs:extension base=&quot;ifc:<a href="../../ifckernel/lexical/ifccontrol.htm">IfcControl</a>&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element name=&quot;WorkingTimes&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element ref=&quot;ifc:<a href="../../ifcdatetimeresource/lexical/ifcworktime.htm">IfcWorkTime</a>&quot; maxOccurs=&quot;unbounded&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:itemType&quot; fixed=&quot;ifc:<a href="../../ifcdatetimeresource/lexical/ifcworktime.htm">IfcWorkTime</a>&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:cType&quot; fixed=&quot;set&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:arraySize&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element name=&quot;ExceptionTimes&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element ref=&quot;ifc:<a href="../../ifcdatetimeresource/lexical/ifcworktime.htm">IfcWorkTime</a>&quot; maxOccurs=&quot;unbounded&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:itemType&quot; fixed=&quot;ifc:<a href="../../ifcdatetimeresource/lexical/ifcworktime.htm">IfcWorkTime</a>&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:cType&quot; fixed=&quot;set&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:arraySize&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute name=&quot;PredefinedType&quot; type=&quot;ifc:<a href="../../ifcprocessextension/lexical/ifcworkcalendartypeenum.htm">IfcWorkCalendarTypeEnum</a>&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&lt;/xs:extension&gt;<br/>
&nbsp;&nbsp;&lt;/xs:complexContent&gt;<br/>
&nbsp;&lt;/xs:complexType&gt;<br/>
</code></div><p></p>
<p><b><u>EXPRESS Specification</u></b></p>
<div class="express"><code class="express">
*)<br/>
<span class="keyword">ENTITY</span> IfcWorkCalendar<br/>
&nbsp;<span class="keyword">SUBTYPE OF</span> (<a href="../../ifckernel/lexical/ifccontrol.htm">IfcControl</a>)<b>;</b><br/>
&nbsp;&nbsp;WorkingTimes : <span class="keyword">OPTIONAL</span> <span class="keyword">SET</span> [1:?] <span class="keyword">OF</span> <a href="../../ifcdatetimeresource/lexical/ifcworktime.htm">IfcWorkTime</a>;<br/>
&nbsp;&nbsp;ExceptionTimes : <span class="keyword">OPTIONAL</span> <span class="keyword">SET</span> [1:?] <span class="keyword">OF</span> <a href="../../ifcdatetimeresource/lexical/ifcworktime.htm">IfcWorkTime</a>;<br/>
&nbsp;&nbsp;PredefinedType : <span class="keyword">OPTIONAL</span> <a href="../../ifcprocessextension/lexical/ifcworkcalendartypeenum.htm">IfcWorkCalendarTypeEnum</a>;<br/>
&nbsp;<span class="keyword">WHERE</span><br/>
&nbsp;&nbsp;CorrectPredefinedType : NOT(EXISTS(PredefinedType)) OR (PredefinedType &lt;&gt; <a href="../../ifcprocessextension/lexical/ifcworkcalendartypeenum.htm">IfcWorkCalendarTypeEnum</a>.USERDEFINED) OR<br/>
((PredefinedType = <a href="../../ifcprocessextension/lexical/ifcworkcalendartypeenum.htm">IfcWorkCalendarTypeEnum</a>.USERDEFINED) AND EXISTS(SELF\<a href="../../ifckernel/lexical/ifcobject.htm">IfcObject</a>.ObjectType));<br/><span class="keyword">END_ENTITY;</span><br/>
(*<br/>
<p class="std"><a href="../../../annex/annex-d/ifcprocessextension/diagram_0003.htm" ><img src="../../../img/diagram.png" style="border: 0px" title="Link to EXPRESS-G diagram" alt="Link to EXPRESS-G diagram">&nbsp;EXPRESS-G diagram</a></p>
</code></div>
<p></p>
</section>
<p><a href="http://jira.buildingsmart.org/issues/?jql=project%20%3D%20IFR%20AND%20text%20~%20%22ifcworkcalendar%22" target="_blank" ><img src="../../../img/external.png" style="border: 0px" title="Report issue" alt="Report issue"/>&nbsp; Report an issue</a></p>
<p><a href="../../../link/ifcworkcalendar.htm" target="_top" ><img src="../../../img/permlink.png" style="border: 0px" title="Link to this page" alt="Link to this page"/>&nbsp; Link to this page</a></p>
<p>By Reinhard Wimmer</p>
  </body>
</html>
