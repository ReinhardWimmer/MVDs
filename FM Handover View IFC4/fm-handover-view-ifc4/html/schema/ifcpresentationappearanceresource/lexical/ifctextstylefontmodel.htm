<!DOCTYPE HTML>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" type="text/css" href="../../../ifc-styles.css">

    <link rel="stylesheet" type="text/css" href="../../../details-shim.css">
    <script type="text/javascript" src="../../../details-shim.js"></script>
    <title>IfcTextStyleFontModel</title>

    <style type="text/css">
      body { counter-reset: index1 8 index2 12 index3 3 index4 36 index5 0; }
    </style>
  </head>

  <body>

<p>Draft: Update of the IFC 2x3 based FM Handover View to IFC4 Add 2</p>

<script type="text/javascript">
<!--
    parent.index.location.replace("../../toc-8.htm#8.12.3.37");
//-->
</script>

<h4 class="num">IfcTextStyleFontModel</h4>
<p><b><u>Change log</u></b></p>
<table class="gridtable">
<tr><th>Item</th><th>SPF</th><th>XML</th><th>Change</th><th>Description</th></tr>
<td colspan=5><b><a href="../../../annex/annex-f/ifc2x3-to-ifc4/index.htm">IFC2x3 to IFC4</a></b></td>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../../schema/ifcpresentationappearanceresource/lexical/ifctextstylefontmodel.htm">IfcTextStyleFontModel</a></td><td></td><td></td><td>MOVED</td><td>Schema changed from <i>IFCPRESENTATIONRESOURCE</i> to <i>IFCPRESENTATIONAPPEARANCERESOURCE</i>. <br/></td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FontFamily</td><td></td><td></td><td>MODIFIED</td><td>Instantiation changed from <i>OPTIONAL</i>. <br/></td></tr>
</table>
<p></p>
<section>
<h5 class="num">Semantic definitions at the entity</h5>
<p><b><u>Entity definition</u></b></p>
<blockquote class="extDef">Definition according to W3C for Cascading Style Sheets:</br>
Setting font properties will be among the most common uses of style sheets. Unfortunately, there exists no well-defined and universally accepted taxonomy for classifying fonts, and terms that apply to one font family may not be appropriate for others. For example, 'italic' is commonly used to label slanted text, but slanted text may also be labeled as being <i>Oblique</i>, <i>Slanted</i>, <i>Incline</i>, <i>Cursive</i> or <i>Kursiv</i>. Therefore it is not a simple problem to map typical font selection properties to a specific font.</blockquote>

<blockquote class="extDef"><b>Font matching</b><br>
Because there is no accepted, universal taxonomy of font properties, matching of properties to font faces must be done carefully. The properties are matched in a well-defined order to ensure that the results of this matching process are as consistent as possible across user agents (assuming that the same library of font faces is presented to each of them).
</blockquote>

<ol>
  <li>The user agent makes (or
accesses) a database of relevant CSS1
properties of all the fonts of which the UA is aware. The UA may be
aware of a font because it has been installed locally or it has been
previously downloaded over the web. If there are two fonts with
exactly the same properties, one of them is ignored. </li>
  <li>At a given element and for
each character in that element, the UA
assembles the font-properties applicable to that element. Using the
complete set of properties, the UA uses the 'font-family' property to
choose a tentative font family. The remaining properties are tested
against the family according to the matching criteria described with
each property. If there are matches for all the remaining properties,
then that is the matching font face for the given element. </li>
  <li>If there is no matching font
face within the 'font-family' being
processed by step 2, and if there is a next alternative 'font-family'
in the font set, then repeat step 2 with the next alternative
'font-family'. </li>
  <li>If there is a matching font
face, but it doesn't contain a glyph
for the current character, and if there is a next alternative
'font-family' in the font sets, then repeat step 2 with the next
alternative 'font-family'.&nbsp; </li>
  <li>If there is no font within
the family selected in 2, then use a
UA-dependent default 'font-family' and repeat step 2, using the best
match that can be obtained within the default font. </li>
</ol>
<p>(The above algorithm can be
optimized to avoid having to revisit
the CSS1 properties for each character.)
</p>
<p>The per-property matching rules
from (2) above are as follows:
</p>
<ol>
  <li>'font-style' is tried first.
'italic'
will be satisfied if there is either a face in the UA's font database
labeled with the CSS keyword 'italic' (preferred) or 'oblique'.
Otherwise the values must be matched exactly or font-style will fail. </li>
  <li>'font-variant' is tried
next. 'normal'
matches a font not labeled as 'small-caps'; 'small-caps' matches (1) a
font labeled as 'small-caps', (2) a font in which the small caps are
synthesized, or (3) a font where all lowercase letters are replaced by
upper case letters. A small-caps font may be synthesized by
electronically scaling uppercase letters from a normal font. </li>
  <li>'font-weight' is matched next, it will never fail. (See 'font-weight' below.) </li>
  <li>'font-size' must be matched within a
UA-dependent margin of tolerance. (Typically, sizes for scalable fonts
are rounded to the nearest whole pixel, while the tolerance for
bitmapped fonts could be as large as 20%.) Further computations, are
based on the 'font-size' value that is used, not the one that is specified.</li>
</ol>

<p>The inherited <i>Name</i> attribute is used to define the font name, particularly in cases, where no (list of) font families are provided. </p>

<blockquote class="note">
NOTE&nbsp; Corresponding CSS1 definitions are Font properties ('font-family', 'font-style', 'font-variant',&nbsp; 'font-weight').</font>
</blockquote>

<blockquote class="history">
HISTORY&nbsp; New entity in IFC2x3.
</blockquote><p></p>
<p><b><u>Attribute definitions</u></b></p>
<table class="attributes">
<tr><th>#</th><th>Attribute</th><th>Type</th><th>Cardinality</th><th>Description</th>
<th>B</th></tr>
<tr><td>2</td><td>FontFamily</td><td><a href="../../ifcpresentationappearanceresource/lexical/ifctextfontname.htm">IfcTextFontName</a></td><td>L[1:?]</td><td>
The value is a prioritized list of font family names and/or generic family names. The first list entry has the highest priority, if this font fails, the next list item shall be used. The last list item should (if possible) be a generic family.
<blockquote class="change-ifc2x4">IFC4 CHANGE&nbsp; Attribute changed to being mandatory.
</blockquote></td><td>X</td></tr>
<tr><td>3</td><td>FontStyle</td><td><a href="../../ifcpresentationappearanceresource/lexical/ifcfontstyle.htm">IfcFontStyle</a></td><td>? </td><td>
The font style property selects between normal (sometimes referred to as "roman" or "upright"), italic and oblique faces within a font family.<br></td><td>X</td></tr>
<tr><td>4</td><td>FontVariant</td><td><a href="../../ifcpresentationappearanceresource/lexical/ifcfontvariant.htm">IfcFontVariant</a></td><td>? </td><td>
The font variant property selects between normal and small-caps.
  <blockquote class="note">NOTE&nbsp; It has been introduced for later compliance to full CSS1 support.</blockquote></td><td>X</td></tr>
<tr><td>5</td><td>FontWeight</td><td><a href="../../ifcpresentationappearanceresource/lexical/ifcfontweight.htm">IfcFontWeight</a></td><td>? </td><td>
The font weight property selects the weight of the font.
  <blockquote class="note">NOTE&nbsp; Values other then 'normal' and 'bold' have been introduced for later compliance to full CSS1 support.</blockquote></td><td>X</td></tr>
<tr><td>6</td><td>FontSize</td><td><a href="../../ifcpresentationappearanceresource/lexical/ifcsizeselect.htm">IfcSizeSelect</a></td><td></td><td>
The font size provides the size or height of the text font.
  <blockquote class="note">NOTE&nbsp; The following values are allowed, <<i>IfcLengthMeasure<i>, with positive values, the length unit is globally defined at <a href="../../ifcmeasureresource/lexical/ifcunitassignment.htm">IfcUnitAssignment</a>.</blockquote></td><td>X</td></tr>
</table>
<p></p>
<p><b><u>Formal Propositions</u></b></p>
<table class="propositions">
<tr><th>Rule</th><th>Description</th></tr>
<tr><td>MeasureOfFontSize</td><td>The size should be given by a positive length measure,</td></tr>
</table>

<p></p>
</section>
</section>
<section>
<h5 class="num">Formal representations</h5>
<p><b><u>XML Specification</u></b></p>
<div class="xsd"><code class="xsd">&nbsp;&lt;xs:element name=&quot;<a href="../../ifcpresentationappearanceresource/lexical/ifctextstylefontmodel.htm">IfcTextStyleFontModel</a>&quot; type=&quot;ifc:<a href="../../ifcpresentationappearanceresource/lexical/ifctextstylefontmodel.htm">IfcTextStyleFontModel</a>&quot; substitutionGroup=&quot;ifc:<a href="../../ifcpresentationappearanceresource/lexical/ifcpredefinedtextfont.htm">IfcPreDefinedTextFont</a>&quot; nillable=&quot;true&quot;/&gt;<br/>
&nbsp;&lt;xs:complexType name=&quot;<a href="../../ifcpresentationappearanceresource/lexical/ifctextstylefontmodel.htm">IfcTextStyleFontModel</a>&quot;&gt;<br/>
&nbsp;&nbsp;&lt;xs:complexContent&gt;<br/>
&nbsp;&nbsp;&nbsp;&lt;xs:extension base=&quot;ifc:<a href="../../ifcpresentationappearanceresource/lexical/ifcpredefinedtextfont.htm">IfcPreDefinedTextFont</a>&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element name=&quot;FontFamily&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element ref=&quot;ifc:<a href="../../ifcpresentationappearanceresource/lexical/ifctextfontname.htm">IfcTextFontName</a>-wrapper&quot; maxOccurs=&quot;unbounded&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:itemType&quot; fixed=&quot;ifc:<a href="../../ifcpresentationappearanceresource/lexical/ifctextfontname.htm">IfcTextFontName</a>-wrapper&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:cType&quot; fixed=&quot;list&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute ref=&quot;ifc:arraySize&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:element name=&quot;FontSize&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:group ref=&quot;ifc:<a href="../../ifcpresentationappearanceresource/lexical/ifcsizeselect.htm">IfcSizeSelect</a>&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:complexType&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:element&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xs:sequence&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute name=&quot;FontStyle&quot; type=&quot;ifc:<a href="../../ifcpresentationappearanceresource/lexical/ifcfontstyle.htm">IfcFontStyle</a>&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute name=&quot;FontVariant&quot; type=&quot;ifc:<a href="../../ifcpresentationappearanceresource/lexical/ifcfontvariant.htm">IfcFontVariant</a>&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xs:attribute name=&quot;FontWeight&quot; type=&quot;ifc:<a href="../../ifcpresentationappearanceresource/lexical/ifcfontweight.htm">IfcFontWeight</a>&quot; use=&quot;optional&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&lt;/xs:extension&gt;<br/>
&nbsp;&nbsp;&lt;/xs:complexContent&gt;<br/>
&nbsp;&lt;/xs:complexType&gt;<br/>
</code></div><p></p>
<p><b><u>EXPRESS Specification</u></b></p>
<div class="express"><code class="express">
*)<br/>
<span class="keyword">ENTITY</span> IfcTextStyleFontModel<br/>
&nbsp;<span class="keyword">SUBTYPE OF</span> (<a href="../../ifcpresentationappearanceresource/lexical/ifcpredefinedtextfont.htm">IfcPreDefinedTextFont</a>)<b>;</b><br/>
&nbsp;&nbsp;FontFamily : <span class="keyword">LIST</span> [1:?] <span class="keyword">OF</span> <a href="../../ifcpresentationappearanceresource/lexical/ifctextfontname.htm">IfcTextFontName</a>;<br/>
&nbsp;&nbsp;FontStyle : <span class="keyword">OPTIONAL</span> <a href="../../ifcpresentationappearanceresource/lexical/ifcfontstyle.htm">IfcFontStyle</a>;<br/>
&nbsp;&nbsp;FontVariant : <span class="keyword">OPTIONAL</span> <a href="../../ifcpresentationappearanceresource/lexical/ifcfontvariant.htm">IfcFontVariant</a>;<br/>
&nbsp;&nbsp;FontWeight : <span class="keyword">OPTIONAL</span> <a href="../../ifcpresentationappearanceresource/lexical/ifcfontweight.htm">IfcFontWeight</a>;<br/>
&nbsp;&nbsp;FontSize : <a href="../../ifcpresentationappearanceresource/lexical/ifcsizeselect.htm">IfcSizeSelect</a>;<br/>
&nbsp;<span class="keyword">WHERE</span><br/>
&nbsp;&nbsp;MeasureOfFontSize : (&#39;IFCMEASURERESOURCE.<a href="../../ifcmeasureresource/lexical/ifclengthmeasure.htm">IfcLengthMeasure</a>&#39; IN TYPEOF(SELF.FontSize)) AND<br/>
(SELF.FontSize &gt; 0.);<br/><span class="keyword">END_ENTITY;</span><br/>
(*<br/>
<p class="std"><a href="../../../annex/annex-d/ifcpresentationappearanceresource/diagram_0005.htm" ><img src="../../../img/diagram.png" style="border: 0px" title="Link to EXPRESS-G diagram" alt="Link to EXPRESS-G diagram">&nbsp;EXPRESS-G diagram</a></p>
</code></div>
<p></p>
</section>
<p><a href="http://jira.buildingsmart.org/issues/?jql=project%20%3D%20IFR%20AND%20text%20~%20%22ifctextstylefontmodel%22" target="_blank" ><img src="../../../img/external.png" style="border: 0px" title="Report issue" alt="Report issue"/>&nbsp; Report an issue</a></p>
<p><a href="../../../link/ifctextstylefontmodel.htm" target="_top" ><img src="../../../img/permlink.png" style="border: 0px" title="Link to this page" alt="Link to this page"/>&nbsp; Link to this page</a></p>
<p>By Reinhard Wimmer</p>
  </body>
</html>
